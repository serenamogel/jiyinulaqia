<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="One of the NAS aspects that does't get much attention in online reviews is data recovery. We have been trying to address that starting with our review of the LG NAS N2A2. In this section, we will first see how RAID rebuild works."><meta name=author content="Aldo Pusey"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=WeBlogy><title>RAID Rebuild and Miscellaneous Concerns - WeBlogy</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[WeBlogy]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-10-05>October 05, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>RAID Rebuild and Miscellaneous Concerns</h1><section class=body itemprop=articleBody><p>One of the NAS aspects that does't get much attention in online reviews is data recovery. We have been trying to address that starting with our review of the LG NAS N2A2. In this section, we will first see how RAID rebuild works.</p><p>In order to test RAID recovery, we created a iSCSI LUN and filled it up with data so that the NAS became 96 % full. We removed the drive in the second bay, and the administration web interface immediately reports entry into the degraded mode. In the degraded mode, the read and write performance have negligible penalty, and the data access suffers no issues even with the rebuild going on in the background.</p><p>The removed hard drive was formatted to NTFS in Windows and reinserted into the drive bay. The rebuild went without any issues. However, repeating this with the drive in the first bay didn't go well. The following two screenshots from the system logs show the encountered issue.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/4834/Drive2-RaidRebuild_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/4834/Drive1-Fail-Rebuild_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p>&nbsp;<p>This problem has also been reported on the QNAP forums<a href=#> here</a>. The only way to get past this was to either insert a raw drive into the system or make sure all the partitions were completely removed from the drive to be reinserted (no NTFS or exFAT partitions). We rebuilt the RAID-5 volume three times under different conditions. The table below indicates the time taken for the rebuild process to complete with different replacement drives.</p><table align=center border=1 cellpadding=2 cellspacing=0 width=550><tbody readability=4.5><tr bgcolor=#016a96><td class=contentwhite colspan=2><strong>RAID-5 Rebuild Durations</strong></td></tr><tr bgcolor=#f7f7f7 readability=3><td>1 TB Samsung 7200rpm Drive, NAS 96% Full</td><td>04:03:15</td></tr><tr bgcolor=#f7f7f7 readability=3><td>2 TB Seagate 5900rpm Drive, NAS Empty</td><td>04:10:20</td></tr><tr bgcolor=#f7f7f7 readability=3><td>1 TB Samsung 7200rpm Drive, NAS Empty</td><td>04:01:34</td></tr><tr bgcolor=#016a96><td class=contentwhite colspan=2><span>.</span></td></tr></tbody></table><p>It is evident that the rebuild takes around 4 hours irrespective of the drive being used for the rebuild.</p><p>The next aspect we tested was the one touch copy feature of the TS-659 Pro II. We used a OCZ Enyo USB 3.0 SSD filled with 100 GB of data (multiple copies of the 10.7 GB Blu-ray folder structure used in the robocopy tests) and used the one touch copy feature to copy it into the RAID-5 volume. The transfer was carried out at<strong> 87.28 MBps</strong>.The USB 3.0 feature is a nice addition to the unit, but it only makes sense in situations where you have data on SSDs to back up. We can't imagine too many people using HDDs with USB 3.0 (where eSATA is available for cheaper). We would also have liked a one-touch copy feature for one of the eSATA ports.</p><p>The table below records the power consumption of the unit under various conditions with the 6 x 1 TB drives attached. The PSU is not terribly efficient, consuming more than 1W even when the unit is fully powered off.</p><table align=center border=1 cellpadding=2 cellspacing=0 width=550><tbody readability=2><tr bgcolor=#016a96 readability=2><td class=contentwhite colspan=2><strong>TS-659 Pro II Power Consumption</strong></td></tr><tr bgcolor=#f7f7f7><td>Powered off</td><td>1.3 W</td></tr><tr bgcolor=#f7f7f7 readability=2><td>Idle (Sleep after no hard disk access for 30 min.)</td><td>30.2 W</td></tr><tr bgcolor=#f7f7f7><td>Powered on</td><td>61.5 W</td></tr><tr bgcolor=#f7f7f7><td>Powered on (Full load)</td><td>72.3 W</td></tr><tr bgcolor=#016a96><td class=contentwhite colspan=2><span>.</span></td></tr></tbody></table><p>&nbsp;</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIF5f5NoqKeZoGLBtIKUcmSpqp9itqp50Z6top2nZIQ%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 WeBlogy - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>